# Pay-to-PubKey-Hash (P2PKH)

Pay-to-Pub(lic)Key-Hash (P2PKH) is the most common form of transaction in Bitcoin. It is the heart of Bitcoin payments, allowing users to send and receive bitcoins securely.

## What is P2PKH?

P2PKH transactions are a type of Bitcoin transaction that locks bitcoins to a specific public key hash. To spend these bitcoins, the owner must provide a valid signature and the corresponding public key.

```
<Signature> <PublicKey> OP_DUP OP_HASH160 <PubKeyHash> OP_EQUALVERIFY OP_CHECKSIG
```
## How it Works

1. **Locking Script (ScriptPubKey)**: When bitcoins are sent to an address, a locking script is created. This script specifies the conditions that must be met to spend the bitcoins. For P2PKH, the script looks like this:
    ```
    OP_DUP OP_HASH160 <PubKeyHash> OP_EQUALVERIFY OP_CHECKSIG
    ```
    - `OP_DUP`: Duplicates the top stack item.
    - `OP_HASH160`: Hashes the top stack item twice (first with SHA-256, then with RIPEMD-160).
    - `<PubKeyHash>`: The public key hash to which the bitcoins are being sent.
    - `OP_EQUALVERIFY`: Verifies that the top two stack items are equal.
    - `OP_CHECKSIG`: Checks the signature against the public key.

2. **Unlocking Script (ScriptSig)**: To spend the bitcoins, the owner must provide an unlocking script. This script includes the signature and the public key:
    ```
    <Signature> <PublicKey>
    ```
    - `<Signature>`: The signature generated by the owner's private key.
    - `<PublicKey>`: The public key corresponding to the private key.

## Example

Here is a simplified example of a P2PKH transaction:

1. Alice wants to send 1 BTC to Bob.
2. Alice creates a transaction with a locking script that includes Bob's public key hash.
3. To spend the 1 BTC, Bob must provide a valid signature and his public key.

## Security

P2PKH transactions are secure because they require the owner's private key to generate a valid signature. Without the private key, it is impossible to spend the bitcoins.

## Conclusion

P2PKH is a fundamental component of Bitcoin transactions, providing a secure and efficient way to transfer bitcoins between users. It ensures that only the owner of the private key can spend the bitcoins, maintaining the integrity and security of the Bitcoin network.
